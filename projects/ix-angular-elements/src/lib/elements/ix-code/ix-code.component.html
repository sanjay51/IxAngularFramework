<div align="center">
<div class="code-outer-box" align="left">
  <!-- Compact mode -->
  <div *ngIf="isCompactMode" id="compact-code" class="code-inner-box">
      <pre class="code-pre line-numbers"><codex class="language-python" [innerHTML]="getCode()"></codex></pre>
  </div>

  <!-- Full mode -->
  <div *ngIf="!isCompactMode" id="full-code" class="code-inner-box">
      <pre class="code-pre line-numbers"><codex class="language-python" [innerHTML]="getFullCode()"></codex></pre>
  </div>

  <!-- buttons for full/compact view-->
  <span *ngIf="shouldHaveFullMode() && isCompactMode" class="code-view-changer" (click)="changeMode('full')"><u><small>Full code</small></u></span>
  <span *ngIf="!isCompactMode" class="code-view-changer" (click)="changeMode('compact')"><u><small>Compact code</small></u></span>

  <!-- Common elements -->
  <button *ngIf="state == 'initial'" class="blue-button" (click)="run()">Run >></button>
  <svg *ngIf="state == 'running'" width="40px" height="40px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="lds-ripple" style="animation-play-state: running; animation-delay: 0s; background: none;"><circle cx="50" cy="50" r="20.3565" fill="none" stroke="#0483e5" stroke-width="2" style="animation-play-state: running; animation-delay: 0s;"><animate attributeName="r" calcMode="spline" values="0;40" keyTimes="0;1" dur="1" keySplines="0 0.2 0.8 1" begin="-0.5s" repeatCount="indefinite" style="animation-play-state: running; animation-delay: 0s;"></animate><animate attributeName="opacity" calcMode="spline" values="1;0" keyTimes="0;1" dur="1" keySplines="0.2 0 0.8 1" begin="-0.5s" repeatCount="indefinite" style="animation-play-state: running; animation-delay: 0s;"></animate></circle><circle cx="50" cy="50" r="37.6717" fill="none" stroke="#cfcfcf" stroke-width="2" style="animation-play-state: running; animation-delay: 0s;"><animate attributeName="r" calcMode="spline" values="0;40" keyTimes="0;1" dur="1" keySplines="0 0.2 0.8 1" begin="0s" repeatCount="indefinite" style="animation-play-state: running; animation-delay: 0s;"></animate><animate attributeName="opacity" calcMode="spline" values="1;0" keyTimes="0;1" dur="1" keySplines="0.2 0 0.8 1" begin="0s" repeatCount="indefinite" style="animation-play-state: running; animation-delay: 0s;"></animate></circle></svg>
  <i *ngIf="state == 'running'">running..</i>
  <pre style="line-height: 120%; font-family: 'Courier New', Courier, monospace; font-size: 14px; font-weight: 100" *ngIf="state == 'output'">{{getOutput()}}</pre>
</div>
</div>