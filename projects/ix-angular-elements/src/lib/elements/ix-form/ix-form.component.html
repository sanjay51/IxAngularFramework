<div style="display:inline-block;">
  <div class="container form-container" [ngStyle]="getContainerStyle()">
    <div align=center class="ix-form-heading">
      <h2 class="form-heading" [ngStyle]="getHeadingStyle()">{{form.title}}</h2>
    </div>
    <div *ngIf="submitted && error" class="alert alert-danger" role="alert">
      {{error}}
    </div><br />

    <form style="padding: 30px" clrForm clrLayout="vertical" [formGroup]="formGroup" (ngSubmit)="onSubmit()">
      <span *ngFor="let field of form.fields">
        <clr-textarea-container *ngIf="field.type == 'textarea'">
          <label for="{{field.name}}" class="clr-col-5 clr-col-md-12">{{field.label}}</label>
          <textarea style="width: 100%" class="clr-col-5 clr-col-md-12" clrTextarea [formControlName]="field.name"
            [id]="field.name"></textarea>

          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.required">{{field.label}} is required
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.minlength">{{field.label}} is too short
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.email">{{field.label}} format is
            incorrect</clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.pattern">{{field.label}} is invalid.
            {{field.validationMessage}}
          </clr-control-error>
        </clr-textarea-container>

        <clr-input-container *ngIf="!field.type || field.type == 'text' || field.type == 'password'">
          <label for="{{field.name}}" class="clr-col-5 clr-col-md-12">{{field.label}}</label>
          <input [type]="field.type ? field.type : 'text'" [formControlName]="field.name" [id]="field.name"
            class="form-control" size="40" class="clr-col-5 clr-col-md-12" clrInput />

          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.required">{{field.label}} is required
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.minlength">{{field.label}} is too short
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.email">{{field.label}} format is
            incorrect</clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.pattern">{{field.label}} is invalid.
            {{field.validationMessage}}
          </clr-control-error>
        </clr-input-container>

        <clr-control-container *ngIf="field.type == 'image'">
          <br />
          <b><label for="{{field.name}}" class="clr-col-5 clr-col-md-12">{{field.label}}</label></b>
          <div class="clr-row">
            <div class="clr-col-2">
              <img [src]="imgUrl" style="width:50px; height: 50px;" />
            </div>
            <div class="clr-col-8">
              <input [formControlName]="field.name" type="file" accept='image/*' (change)="preview($event.target.files)" />
            </div>
          </div>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.required">{{field.label}} is required
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.minlength">{{field.label}} is too short
          </clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.email">{{field.label}} format is
            incorrect</clr-control-error>
          <clr-control-error *ngIf="f[field.name].errors && f[field.name].errors.pattern">{{field.label}} is invalid.
            {{field.validationMessage}}
          </clr-control-error>
        </clr-control-container>
      </span>




      <br /><br />
      <div class="form-group" align=center>
        <button [disabled]="loading" class="btn">{{form.submitButtonLabel}}</button>
        <img *ngIf="loading" [src]="LOADING_GIF_SRC" />
        <a *ngIf="!loading" href="JavaScript:Void(0);" (click)="form.onCancel()">Cancel</a>
      </div>
    </form>
  </div>
</div>